{% extends 'layout.html.twig' %}

{% block content %}
    <div class="row breadcrumb-wrapper justify-content-between">
        <div class="col-6">
            <h1>Usuario</h1>
        </div>
    </div>

    <div class="card card-default">
        <div class="card-header card-header-border-bottom">
            <h2>Formulario de usuarios</h2>

        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-12">

    			{{ form_start(form,{ 'attr': {'class': 'form-horizontal', 'id': 'form', 'enctype': 'multipart/form-data', 'novalidate': 'novalidate'}}) }}
    				<div class="form-group">
    					<label>Username*</label>
    					{{ form_widget(form.username, { 'attr': {'class': 'form-control', 'autocomplete': 'off', 'required': 'required', 'placeholder': 'Inserte el username...'} }) }}
    					<span class="error"></span>
    				</div>
    				<div class="form-group">
    					<label>Contrase単a*</label>
    					{{ form_widget(form.password.first, { 'attr': {'class': 'form-control', 'autocomplete': 'off', 'required': 'required', 'placeholder': 'Inserte la contrase単a...'} }) }}
    					<span class="error"></span>
    				</div>
    				<div class="form-group">
    					<label>Confirme contrase単a*</label>
    					{{ form_widget(form.password.second, { 'attr': {'class': 'form-control', 'autocomplete': 'off', 'required': 'required', 'placeholder': 'Confirme la contrase単a...', 'equalTo': '#user_password_first'} }) }}
    					<span class="error"></span>
    				</div>
    				<div class="form-group">
    					<label>Correo*</label>
    					{{ form_widget(form.email, { 'attr': {'class': 'form-control', 'autocomplete': 'off', 'required': 'required', 'placeholder': 'Inserte el correo...', 'email': 'email'} }) }}
    					<span class="error"></span>
    				</div>
    				<div class="form-group">
    					<label>Roles*</label>
    					{{ form_widget(form.roles, { 'attr': {'class': 'form-control select2', 'autocomplete': 'off', 'required': 'required'} }) }}
    					<span class="error"></span>
    				</div>
    				<div class="form-group">
    					<label>Evaluador</label>
    					{{ form_widget(form.evaluador, { 'attr': {'class': 'form-control select2custom', 'autocomplete': 'off', 'placeholder': 'Selecciona el evaluador...'} }) }}
    					<span class="error"></span>
    				</div>
    				<div class="form-footer pt-4 mt-5 border-top">
    					<button type="submit" class="btn btn-primary btn-default">Guardar</button>
    					<a class="btn btn-secondary btn-default" href="{{ path('user_index') }}">Cancel</a>
    				</div>
    			{{ form_end(form) }}

                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}

    {{ parent() }}
    <script>

        select_menu('usuario_menu');

        $(document).ready(function() {
            $(".select2custom").select2({
                language: "es",
                theme: "bootstrap4",
                placeholder: "",
                allowClear: true
              });

            if({{ user.id }}){
                $('#user_password_first').removeAttr('required');
                $('#user_password_second').removeAttr('required');
            }
        });

    </script>
{% endblock %}
